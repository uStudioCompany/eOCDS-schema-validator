(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e){e.exports={type:"object",required:["tender","planning","buyer"],properties:{tender:{type:"object",required:["title","classification"],properties:{title:{type:"string"},description:{type:"string"},classification:{type:"object",required:["id"],properties:{id:{type:"string"},scheme:{type:"string"},description:{type:"string"}}}}},planning:{type:"object",required:["budget"],properties:{budget:{type:"object",required:["period"],properties:{period:{type:"object",required:["startDate","endDate"],properties:{startDate:{type:"string",format:"date-time",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"},endDate:{type:"string",format:"date-time",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"}}}}},rationale:{type:"string"}}},buyer:{type:"object",required:["name","identifier","address","contactPoint"],properties:{name:{type:"string"},identifier:{type:"object",required:["scheme","id","legalName"],properties:{scheme:{type:"string"},id:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}},address:{type:"object",required:["streetAddress","addressDetails"],properties:{streetAddress:{type:"string"},postalCode:{type:"string"},addressDetails:{type:"object",required:["country","region","locality"],properties:{country:{type:"object",required:["id"],properties:{id:{type:"string"}}},region:{type:"object",required:["id"],properties:{id:{type:"string"}}},locality:{type:"object",required:["scheme","id"],properties:{scheme:{type:"string"},id:{type:"string"}},if:{properties:{scheme:{const:"CUATM"}}},then:{required:["description"],properties:{description:{type:"string"}}}}}}}},additionalIdentifiers:{type:"array",minItems:1,items:{type:"object",required:["id","scheme","legalName"],properties:{id:{type:"string"},scheme:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}}},contactPoint:{type:"object",required:["name","email","telephone"],properties:{name:{type:"string"},email:{type:"string",format:"email"},telephone:{type:"string"},faxNumber:{type:"string"},url:{type:"string"}}},details:{type:"object",properties:{typeOfBuyer:{type:"string",enum:["NATIONAL_AGENCY","REGIONAL_AUTHORITY","REGIONAL_AGENCY","BODY_PUBLIC","EU_INSTITUTION","MINISTRY"]},mainGeneralActivity:{type:"string",enum:["DEFENCE","PUBLIC_ORDER_AND_SAFETY","ECONOMIC_AND_FINANCIAL_AFFAIRS","ENVIRONMENT","RECREATION_CULTURE_AND_RELIGION","EDUCATION","SOCIAL_PROTECTION","HEALTH","GENERAL_PUBLIC_SERVICES","HOUSING_AND_COMMUNITY_AMENITIES"]},mainSectoralActivity:{type:"string",enum:["EXPLORATION_EXTRACTION_GAS_OIL","ELECTRICITY","POSTAL_SERVICES","PRODUCTION_TRANSPORT_DISTRIBUTION_GAS_HEAT","WATER","URBAN_RAILWAY_TRAMWAY_TROLLEYBUS_BUS_SERVICES","PORT_RELATED_ACTIVITIES","RAILWAY_SERVICES","EXPLORATION_EXTRACTION_COAL_OTHER_SOLID_FUEL","AIRPORT_RELATED_ACTIVITIES"]}}}}}}}},27:function(e){e.exports={type:"object",required:["tender","planning"],properties:{tender:{type:"object",required:["procuringEntity"],properties:{procuringEntity:{type:"object",required:["name","identifier","address","contactPoint"],properties:{name:{type:"string"},identifier:{type:"object",required:["scheme","id","legalName"],properties:{scheme:{type:"string"},id:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}},address:{type:"object",required:["streetAddress","addressDetails"],properties:{streetAddress:{type:"string"},postalCode:{type:"string"},addressDetails:{type:"object",required:["country","region","locality"],properties:{country:{type:"object",required:["id"],properties:{id:{type:"string"}}},region:{type:"object",required:["id"],properties:{id:{type:"string"}}},locality:{type:"object",required:["scheme","id"],properties:{scheme:{type:"string"},id:{type:"string"}},if:{properties:{scheme:{const:"CUATM"}}},then:{required:["description"],properties:{description:{type:"string"}}}}}}}},additionalIdentifiers:{type:"array",minItems:1,items:{type:"object",required:["id","scheme","legalName"],properties:{id:{type:"string"},scheme:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}}},contactPoint:{type:"object",required:["name","email","telephone"],properties:{name:{type:"string"},email:{type:"string",format:"email"},telephone:{type:"string"},faxNumber:{type:"string"},url:{type:"string"}}}}}}},planning:{type:"object",required:["budget"],properties:{budget:{type:"object",required:["period","amount","isEuropeanUnionFunded"],properties:{id:{type:"string"},description:{type:"string"},period:{type:"object",required:["startDate","endDate"],properties:{startDate:{type:"string",format:"date-time",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"},endDate:{type:"string",format:"date-time",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"}}},amount:{type:"object",required:["amount","currency"],properties:{amount:{type:"number",exclusiveMinimum:0},currency:{type:"string"}}},project:{type:"string"},projectID:{type:"string"},uri:{type:"string",format:"uri"},isEuropeanUnionFunded:{type:"boolean"}},if:{properties:{isEuropeanUnionFunded:{const:!0}}},then:{required:["europeanUnionFunding"],properties:{europeanUnionFunding:{type:"object",required:["projectName","projectIdentifier"],properties:{projectName:{type:"string"},projectIdentifier:{type:"string"},uri:{type:"string",format:"uri"}}}}},else:{properties:{europeanUnionFunding:{type:"null"}}}},rationale:{type:"string"}}},buyer:{type:"object",required:["name","identifier","address","contactPoint"],properties:{name:{type:"string"},identifier:{type:"object",required:["scheme","id","legalName"],properties:{scheme:{type:"string"},id:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}},address:{type:"object",required:["streetAddress","addressDetails"],properties:{streetAddress:{type:"string"},postalCode:{type:"string"},addressDetails:{type:"object",required:["country","region","locality"],properties:{country:{type:"object",required:["id"],properties:{id:{type:"string"}}},region:{type:"object",required:["id"],properties:{id:{type:"string"}}},locality:{type:"object",required:["scheme","id"],properties:{scheme:{type:"string"},id:{type:"string"}},if:{properties:{scheme:{const:"CUATM"}}},then:{required:["description"],properties:{description:{type:"string"}}}}}}}},additionalIdentifiers:{type:"array",minItems:1,items:{type:"object",required:["id","scheme","legalName"],properties:{id:{type:"string"},scheme:{type:"string"},legalName:{type:"string"},uri:{type:"string",format:"uri"}}}},contactPoint:{type:"object",required:["name","email","telephone"],properties:{name:{type:"string"},email:{type:"string",format:"email"},telephone:{type:"string"},faxNumber:{type:"string"},url:{type:"string"}}}}}}}},30:function(e,t,r){e.exports=r(78)},74:function(e){e.exports={}},76:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r.n(a),n=r(21),s=r.n(n),o=r(7),p=r.n(o),c=r(22),l=r(23),d=r(24),u=r(28),m=r(25),y=r(29),g=r(3),h=r.n(g),E=r(8),f=r(9),b=r.n(f),v=(r(71),r(73),r(74),r(26)),I=r(27),S=(r(75),r(76),new h.a({allErrors:!0,verbose:!0,validateSchema:!1})),N=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(u.a)(this,Object(m.a)(t).call(this,e))).setSchemaRef=function(e){if(e){var t=e.jsonEditor;r.schemaJsonEditor=t}else r.schemaJsonEditor=null},r.setDataRef=function(e){if(e){var t=e.jsonEditor;r.dataJsonEditor=t}else r.dataJsonEditor=null},r.validateInputs=function(e,t){var a=new h.a;try{var i=a.compile(e);i(t)?r.setState({errors:[]}):(r.setState({errors:i.errors}),console.log(i.errors))}catch(n){}},r.handleChangeSchema=function(e){var t=new h.a;t.validateSchema(e)?r.setState({inputSchema:e,schemaIsValid:!0,errorSchemaMessage:[]},function(){r.validateInputs(r.state.inputSchema,r.state.inputData)}):r.setState({errors:[],schemaIsValid:!1,errorSchemaMessage:t.errors})},r.handleChangeData=function(e){r.setState({inputData:e},function(){r.validateInputs(r.state.inputSchema,r.state.inputData),r.saveDataToLocalStorage()})},r.handleChangePreset=function(e){r.setState({preset:e.currentTarget.value,inputSchema:r.state.presetSchemas[e.currentTarget.value]||{},errors:[],schemaIsValid:!0,errorSchemaMessage:[]},function(){r.schemaJsonEditor.set(r.state.inputSchema),r.validateInputs(r.state.inputSchema,r.state.inputData)})},r.saveDataToLocalStorage=Object(c.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("data",JSON.stringify(r.state.inputData));case 1:case"end":return e.stop()}},e)})),r.state={preset:"",inputSchema:{},inputData:{},errors:[],schemaIsValid:!0,errorSchemaMessage:[],presetSchemas:{"Schema for create EI":v,"Schema for create FS":I}},r}return Object(y.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("data")){var t=JSON.parse(localStorage.getItem("data"));this.setState({inputData:t},function(){e.dataJsonEditor.set(t)})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.preset,a=t.inputSchema,n=t.inputData,s=t.presetSchemas,o=t.errors,p=t.schemaIsValid,c=t.errorSchemaMessage,l=!!a&&!!n;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"presets"},i.a.createElement("h3",null,"Presets schemas"),i.a.createElement("select",{className:"preset-select",value:r,onChange:this.handleChangePreset},i.a.createElement("option",{value:""},"-"),Object.keys(s).map(function(e){return i.a.createElement("option",{key:e,value:e},e)})),i.a.createElement("button",{className:"validate-button",disabled:!p,onClick:function(){return e.validateInputs(a,n)}},"Validate"),l&&p&&i.a.createElement("span",{className:o.length?"validate-status validate-status_invalid":"validate-status validate-status_valid"},o.length?"Data is not valid":"Data is valid"),!p&&i.a.createElement("span",{className:"validate-status validate-status_invalid"},"Error parsing schema")),i.a.createElement("div",{className:"editors"},i.a.createElement("div",{className:"schema-editor"},i.a.createElement("h2",null,"Schema"),i.a.createElement(E.a,{ref:this.setSchemaRef,value:a,mode:"view",allowedModes:["view","code"],onChange:this.handleChangeSchema,ace:b.a,theme:"ace/theme/chrome"})),i.a.createElement("div",{className:"data-editor"},i.a.createElement("h2",null,"Data"),i.a.createElement(E.a,{ref:this.setDataRef,value:n,mode:"code",onChange:this.handleChangeData,ace:b.a,theme:"ace/theme/chrome",ajv:S,schema:a}))),(!!o.length||!!c.length)&&i.a.createElement("h3",null,"Errors"),i.a.createElement("div",{className:"errors"},o.map(function(e,t){return i.a.createElement("div",{className:"error",key:t},i.a.createElement("h4",null,"\u2116 ",t+1),i.a.createElement("p",null,"Keyword of error: ",i.a.createElement("b",null,e.keyword)),i.a.createElement("p",null,"Schema path: ",i.a.createElement("b",null,e.schemaPath)),i.a.createElement("p",null,"Data path: ",i.a.createElement("b",null,e.dataPath||"-")),i.a.createElement("p",null,"Message: ",i.a.createElement("b",null,e.message)),"params"in e&&i.a.createElement("p",null,"Details:"),"params"in e&&i.a.createElement("ul",null,Object.entries(e.params).map(function(e){return i.a.createElement("li",{key:e[0]},e[0]," : ",i.a.createElement("b",null,e[1]||"-"))})))})),i.a.createElement("div",{className:"errors"},c.map(function(e,t){return i.a.createElement("div",{className:"error",key:t},i.a.createElement("h4",null,"\u2116 ",t+1),i.a.createElement("p",null,"Keyword of error: ",i.a.createElement("b",null,e.keyword)),i.a.createElement("p",null,"Schema path: ",i.a.createElement("b",null,e.schemaPath)),i.a.createElement("p",null,"Data path: ",i.a.createElement("b",null,e.dataPath||"-")),i.a.createElement("p",null,"Message: ",i.a.createElement("b",null,e.message)),"params"in e&&i.a.createElement("p",null,"Details:"),"params"in e&&i.a.createElement("ul",null,Object.entries(e.params).map(function(e){return i.a.createElement("li",{key:e[0]},e[0]," : ",i.a.createElement("b",null,e[1]||"-"))})))})))}}]),t}(a.Component),A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r(77);s.a.render(i.a.createElement(N,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/eOCDS-schema-validator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/eOCDS-schema-validator","/service-worker.js");A?(function(e,t){fetch(e).then(function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):j(t,e)})}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.fb322eb1.chunk.js.map