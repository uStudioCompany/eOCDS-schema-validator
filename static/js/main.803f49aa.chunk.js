(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e){e.exports={title:"Budget",type:"object",oneOf:[{$comment:"EI without FSs",required:["id","period"],additionalProperties:!1,properties:{id:{type:"string"},period:{$ref:"#/definitions/Period"}}},{$comment:"EI with FSs",required:["id","period","amount"],additionalProperties:!1,properties:{id:{type:"string"},period:{$ref:"#/definitions/Period"},amount:{$ref:"#/definitions/Amount"}}},{$comment:"FS",required:["period","amount","isEuropeanUnionFunded","verified","sourceEntity"],additionalProperties:!1,properties:{id:{type:"string"},description:{type:"string"},period:{$ref:"#/definitions/Period"},amount:{$ref:"#/definitions/Amount"},project:{type:"string"},projectID:{type:"string"},sourceEntity:{$ref:"#/definitions/SourceOrganization"},uri:{type:"string",format:"uri"},verified:{type:"boolean"},isEuropeanUnionFunded:{type:"boolean"}},if:{properties:{isEuropeanUnionFunded:{const:!0}}},then:{required:["europeanUnionFunding"],properties:{europeanUnionFunding:{type:"object",required:["projectName","projectIdentifier"],properties:{projectName:{type:"string"},projectIdentifier:{type:"string"},uri:{type:"string",format:"uri"}}}}},else:{properties:{europeanUnionFunding:{type:"null"}}}},{$comment:"MS",required:["amount","isEuropeanUnionFunded","budgetBreakdown"],properties:{description:{type:"string"},amount:{$ref:"#/definitions/Amount"},isEuropeanUnionFunded:{type:"boolean"},budgetBreakdown:{type:"array",minItems:1,items:{type:"object",required:["id","amount","period","sourceParty"],properties:{id:{type:"string"},description:{type:"string"},amount:{$ref:"#/definitions/Amount"},period:{$ref:"#/definitions/Period"},sourceParty:{$ref:"#/definitions/SourceOrganization"},europeanUnionFunding:{type:"object",required:["projectName","projectIdentifier"],properties:{projectName:{type:"string"},projectIdentifier:{type:"string"},uri:{type:"string",format:"uri"}}}}}}},if:{properties:{budgetBreakdown:{items:{properties:{europeanUnionFunding:{type:"null"}}}}}},then:{properties:{isEuropeanUnionFunded:{const:!1}}},else:{properties:{isEuropeanUnionFunded:{const:!0}}}}],definitions:{Period:{type:"object",required:["startDate","endDate"],properties:{startDate:{type:"string",format:"date-time",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z"},endDate:{type:"string",format:"date-time"}}},Amount:{type:"object",required:["amount","currency"],properties:{amount:{type:"number"},currency:{type:"string"}}},SourceOrganization:{type:"object",required:["id","name"],properties:{id:{type:"string"},name:{type:"string"}}}}}},29:function(e,t,n){e.exports=n(76)},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),o=n.n(i),s=n(6),c=n.n(s),u=n(22),l=n(23),d=n(24),p=n(27),m=n(25),h=n(28),f=n(7),g=n.n(f),v=n(8),y=n(9),E=n.n(y),S=(n(70),n(72),n(26)),b=(n(73),n(74),new g.a({allErrors:!0,verbose:!0})),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).setSchemaRef=function(e){if(e){var t=e.jsonEditor;n.schemaJsonEditor=t}else n.schemaJsonEditor=null},n.setDataRef=function(e){if(e){var t=e.jsonEditor;n.dataJsonEditor=t}else n.dataJsonEditor=null},n.validateInputs=function(e,t){var a=new g.a;try{var r=a.compile(e);r(t)?n.setState({errors:[]}):(n.setState({errors:r.errors}),console.log(r.errors))}catch(i){}},n.handleChangeSchema=function(e){console.log(e),n.setState({inputSchema:e},function(){n.validateInputs(n.state.inputSchema,n.state.inputData)})},n.handleChangeData=function(e){console.log(e),n.setState({inputData:e},function(){n.validateInputs(n.state.inputSchema,n.state.inputData),n.saveDataToLocalStorage()})},n.handleChangePreset=function(e){switch(e.currentTarget.value){case"budget":n.setState({preset:e.currentTarget.value,inputSchema:S,errors:[]},function(){n.schemaJsonEditor.set(n.state.inputSchema),n.validateInputs(n.state.inputSchema,n.state.inputData)});break;default:n.setState({preset:"",inputSchema:{},errors:[]},function(){n.schemaJsonEditor.set(n.state.inputSchema),n.validateInputs(n.state.inputSchema,n.state.inputData)})}},n.saveDataToLocalStorage=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("data",JSON.stringify(n.state.inputData));case 1:case"end":return e.stop()}},e)})),n.state={preset:"",inputSchema:{},inputData:{},errors:[]},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("data")){var t=JSON.parse(localStorage.getItem("data"));this.setState({inputData:t},function(){e.dataJsonEditor.set(t)})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.preset,a=t.inputSchema,i=t.inputData,o=t.errors,s=!!a&&!!i;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"presets"},r.a.createElement("h3",null,"Presets schemas"),r.a.createElement("select",{className:"preset-select",value:n,onChange:this.handleChangePreset},r.a.createElement("option",{value:""},"-"),r.a.createElement("option",{value:"budget"},"Budget")),r.a.createElement("button",{className:"validate-button",onClick:function(){return e.validateInputs(a,i)}},"Validate"),s&&r.a.createElement("span",{className:o.length?"validate-status validate-status_invalid":"validate-status validate-status_valid"},o.length?"Data is not valid":"Data is valid")),r.a.createElement("div",{className:"editors"},r.a.createElement("div",{className:"schema-editor"},r.a.createElement("h2",null,"Schema"),r.a.createElement(v.a,{ref:this.setSchemaRef,value:a,mode:"code",onChange:this.handleChangeSchema,ace:E.a,theme:"ace/theme/chrome"})),r.a.createElement("div",{className:"data-editor"},r.a.createElement("h2",null,"Data"),r.a.createElement(v.a,{ref:this.setDataRef,value:i,mode:"code",onChange:this.handleChangeData,ace:E.a,theme:"ace/theme/chrome",ajv:b,schema:a}))),!!o.length&&r.a.createElement("h3",null,"Errors"),r.a.createElement("div",{className:"errors"},o.map(function(e,t){return r.a.createElement("div",{className:"error",key:t},r.a.createElement("h4",null,"\u2116 ",t+1),r.a.createElement("p",null,"Keyword of error: ",r.a.createElement("b",null,e.keyword)),r.a.createElement("p",null,"Schema path: ",r.a.createElement("b",null,e.schemaPath)),r.a.createElement("p",null,"Data path: ",r.a.createElement("b",null,e.dataPath||"-")),r.a.createElement("p",null,"Message: ",r.a.createElement("b",null,e.message)),"params"in e&&r.a.createElement("p",null,"Details:"),"params"in e&&r.a.createElement("ul",null,Object.entries(e.params).map(function(e){return r.a.createElement("li",{key:e[0]},e[0]," : ",r.a.createElement("b",null,e[1]||"-"))})))})))}}]),t}(a.Component),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(75);o.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/eOCDS-schema-validator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/eOCDS-schema-validator","/service-worker.js");j?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):D(t,e)})}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.803f49aa.chunk.js.map